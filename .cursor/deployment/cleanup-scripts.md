# üßπ –°–∫—Ä–∏–ø—Ç—ã —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–æ–Ω–Ω–æ–π –æ—á–∏—Å—Ç–∫–∏

## –ö–æ–Ω—Ü–µ–ø—Ü–∏—è

–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–æ–Ω–Ω—ã–µ –±—ç–∫–∞–ø—ã –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—Ç –±–µ–∑–æ–ø–∞—Å–Ω—É—é –æ—á–∏—Å—Ç–∫—É —Ñ–∞–π–ª–æ–≤:

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  –ù–ê–ß–ê–õ–û –°–ï–°–°–ò–ò                                      ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ start-cleanup.sh —Å–æ–∑–¥–∞—ë—Ç –±—ç–∫–∞–ø                 ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                    ‚îÇ
                    ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  –†–ê–ë–û–¢–ê –° –§–ê–ô–õ–ê–ú–ò                                   ‚îÇ
‚îÇ  ‚Ä¢ –ö–∞–∂–¥–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ —Ç—Ä–µ–±—É–µ—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è            ‚îÇ
‚îÇ  ‚Ä¢ –ú–æ–∂–Ω–æ —É–¥–∞–ª—è—Ç—å/–ø–µ—Ä–µ–º–µ—â–∞—Ç—å —Ñ–∞–π–ª—ã                   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                    ‚îÇ
        ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
        ‚ñº                       ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê       ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ "–°–µ—Å—Å–∏—è –æ–∫"   ‚îÇ       ‚îÇ "–û—Ç–∫–∞—Ç–∏"      ‚îÇ
‚îÇ confirm-      ‚îÇ       ‚îÇ rollback-     ‚îÇ
‚îÇ cleanup.sh    ‚îÇ       ‚îÇ cleanup.sh    ‚îÇ
‚îÇ ‚Üí —É–¥–∞–ª—è–µ—Ç     ‚îÇ       ‚îÇ ‚Üí –≤–æ—Å—Å—Ç–∞–Ω–∞–≤-  ‚îÇ
‚îÇ   –±—ç–∫–∞–ø       ‚îÇ       ‚îÇ   –ª–∏–≤–∞–µ—Ç –≤—Å—ë  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò       ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

## –°–∫—Ä–∏–ø—Ç—ã

### `start-cleanup.sh`

–ù–∞—á–∏–Ω–∞–µ—Ç —Å–µ—Å—Å–∏—é –æ—á–∏—Å—Ç–∫–∏, —Å–æ–∑–¥–∞—ë—Ç —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–æ–Ω–Ω—ã–π –±—ç–∫–∞–ø.

```bash
~/.openclaw/cleanup-scripts/start-cleanup.sh [downloads|desktop|all]
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `downloads` ‚Äî —Ç–æ–ª—å–∫–æ ~/Downloads
- `desktop` ‚Äî —Ç–æ–ª—å–∫–æ ~/Desktop
- `all` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) ‚Äî –æ–±–∞

**–í—ã—Ö–æ–¥:**
- –°–æ–∑–¥–∞—ë—Ç `~/.openclaw/cleanup-backups/session_YYYYMMDD_HHMMSS/`
- –ó–∞–ø–∏—Å—ã–≤–∞–µ—Ç –ø—É—Ç—å –≤ `.current_session`
- –ê—Ä—Ö–∏–≤–∏—Ä—É–µ—Ç –ø–∞–ø–∫–∏ –≤ `.tar.gz`

---

### `confirm-cleanup.sh`

–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç —É—Å–ø–µ—à–Ω—É—é —Å–µ—Å—Å–∏—é, —É–¥–∞–ª—è–µ—Ç –±—ç–∫–∞–ø.

```bash
~/.openclaw/cleanup-scripts/confirm-cleanup.sh
```

**–ü–æ–≤–µ–¥–µ–Ω–∏–µ:**
- –£–¥–∞–ª—è–µ—Ç —Ç–µ–∫—É—â—É—é —Å–µ—Å—Å–∏—é –±—ç–∫–∞–ø–∞
- –û—á–∏—â–∞–µ—Ç `.current_session`

---

### `rollback-cleanup.sh`

–û—Ç–∫–∞—Ç—ã–≤–∞–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è, –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Ñ–∞–π–ª—ã –∏–∑ –±—ç–∫–∞–ø–∞.

```bash
~/.openclaw/cleanup-scripts/rollback-cleanup.sh
```

**–ü–æ–≤–µ–¥–µ–Ω–∏–µ:**
- –†–∞—Å–ø–∞–∫–æ–≤—ã–≤–∞–µ—Ç –∞—Ä—Ö–∏–≤—ã –æ–±—Ä–∞—Ç–Ω–æ –≤ ~/Downloads –∏ ~/Desktop
- –ë—ç–∫–∞–ø —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –¥–ª—è –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –æ—Ç–∫–∞—Ç–∞

---

### `cleanup-status.sh`

–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å—Ç–∞—Ç—É—Å —Ç–µ–∫—É—â–µ–π —Å–µ—Å—Å–∏–∏.

```bash
~/.openclaw/cleanup-scripts/cleanup-status.sh
```

**–í—ã—Ö–æ–¥:**
- –ê–∫—Ç–∏–≤–Ω–∞—è —Å–µ—Å—Å–∏—è (—Ü–µ–ª—å, —Ä–∞–∑–º–µ—Ä, –≤—Ä–µ–º—è —Å–æ–∑–¥–∞–Ω–∏—è)
- –°–ø–∏—Å–æ–∫ —Å—Ç–∞—Ä—ã—Ö –±—ç–∫–∞–ø–æ–≤

---

### `auto-cleanup-old-backups.sh`

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–¥–∞–ª—è–µ—Ç –±—ç–∫–∞–ø—ã —Å—Ç–∞—Ä—à–µ 24 —á–∞—Å–æ–≤.

```bash
~/.openclaw/cleanup-scripts/auto-cleanup-old-backups.sh
```

**–ó–∞–ø—É—Å–∫:** cron –∫–∞–∂–¥—ã–π —á–∞—Å (`0 * * * *`)

---

## –ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥

### start-cleanup.sh

```bash
#!/bin/bash
# –°–∫—Ä–∏–ø—Ç –Ω–∞—á–∞–ª–∞ —Å–µ—Å—Å–∏–∏ –æ—á–∏—Å—Ç–∫–∏ ‚Äî —Å–æ–∑–¥–∞—ë—Ç —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–æ–Ω–Ω—ã–π –±—ç–∫–∞–ø
set -e

BACKUP_DIR="$HOME/.openclaw/cleanup-backups"
TIMESTAMP=$(date +%Y%m%d_%H%M%S)
SESSION_DIR="$BACKUP_DIR/session_$TIMESTAMP"
SESSION_FILE="$BACKUP_DIR/.current_session"

# –ü—Ä–æ–≤–µ—Ä–∫–∞: –Ω–µ—Ç –ª–∏ –∞–∫—Ç–∏–≤–Ω–æ–π —Å–µ—Å—Å–∏–∏
if [ -f "$SESSION_FILE" ]; then
    CURRENT=$(cat "$SESSION_FILE")
    echo "‚ö†Ô∏è  –£–∂–µ –µ—Å—Ç—å –∞–∫—Ç–∏–≤–Ω–∞—è —Å–µ—Å—Å–∏—è: $CURRENT"
    exit 1
fi

TARGET="${1:-all}"
mkdir -p "$SESSION_DIR"

echo "üîÑ –°–æ–∑–¥–∞—é –±—ç–∫–∞–ø..."

case "$TARGET" in
    downloads)
        tar -czf "$SESSION_DIR/downloads.tar.gz" -C "$HOME" Downloads 2>/dev/null || true
        echo "downloads" > "$SESSION_DIR/.target"
        ;;
    desktop)
        tar -czf "$SESSION_DIR/desktop.tar.gz" -C "$HOME" Desktop 2>/dev/null || true
        echo "desktop" > "$SESSION_DIR/.target"
        ;;
    all)
        tar -czf "$SESSION_DIR/downloads.tar.gz" -C "$HOME" Downloads 2>/dev/null || true
        tar -czf "$SESSION_DIR/desktop.tar.gz" -C "$HOME" Desktop 2>/dev/null || true
        echo "all" > "$SESSION_DIR/.target"
        ;;
esac

echo "$SESSION_DIR" > "$SESSION_FILE"
SIZE=$(du -sh "$SESSION_DIR" | cut -f1)

echo "‚úÖ –°–µ—Å—Å–∏—è –Ω–∞—á–∞—Ç–∞!"
echo "üì¶ –ë—ç–∫–∞–ø: $SESSION_DIR ($SIZE)"
```

### confirm-cleanup.sh

```bash
#!/bin/bash
# –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ–π —Å–µ—Å—Å–∏–∏ ‚Äî —É–¥–∞–ª—è–µ—Ç –±—ç–∫–∞–ø
set -e

BACKUP_DIR="$HOME/.openclaw/cleanup-backups"
SESSION_FILE="$BACKUP_DIR/.current_session"

if [ ! -f "$SESSION_FILE" ]; then
    echo "‚ùå –ù–µ—Ç –∞–∫—Ç–∏–≤–Ω–æ–π —Å–µ—Å—Å–∏–∏"
    exit 1
fi

SESSION_DIR=$(cat "$SESSION_FILE")
SIZE=$(du -sh "$SESSION_DIR" | cut -f1)

echo "üóëÔ∏è  –£–¥–∞–ª—è—é –±—ç–∫–∞–ø: $SESSION_DIR ($SIZE)"
rm -rf "$SESSION_DIR"
rm -f "$SESSION_FILE"

echo "‚úÖ –°–µ—Å—Å–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞!"
```

### rollback-cleanup.sh

```bash
#!/bin/bash
# –û—Ç–∫–∞—Ç —Å–µ—Å—Å–∏–∏ ‚Äî –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Ñ–∞–π–ª—ã –∏–∑ –±—ç–∫–∞–ø–∞
set -e

BACKUP_DIR="$HOME/.openclaw/cleanup-backups"
SESSION_FILE="$BACKUP_DIR/.current_session"

if [ ! -f "$SESSION_FILE" ]; then
    echo "‚ùå –ù–µ—Ç –∞–∫—Ç–∏–≤–Ω–æ–π —Å–µ—Å—Å–∏–∏"
    exit 1
fi

SESSION_DIR=$(cat "$SESSION_FILE")
TARGET=$(cat "$SESSION_DIR/.target" 2>/dev/null || echo "all")

echo "üîÑ –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é —Ñ–∞–π–ª—ã..."

case "$TARGET" in
    downloads|all)
        if [ -f "$SESSION_DIR/downloads.tar.gz" ]; then
            rm -rf "$HOME/Downloads"
            tar -xzf "$SESSION_DIR/downloads.tar.gz" -C "$HOME"
        fi
        ;;&
    desktop|all)
        if [ -f "$SESSION_DIR/desktop.tar.gz" ]; then
            rm -rf "$HOME/Desktop"
            tar -xzf "$SESSION_DIR/desktop.tar.gz" -C "$HOME"
        fi
        ;;
esac

echo "‚úÖ –§–∞–π–ª—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã!"
```

---

## –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è –∞–≥–µ–Ω—Ç–∞

–§–∞–π–ª `~/.openclaw/agent-instructions.md` —Å–æ–¥–µ—Ä–∂–∏—Ç –ø—Ä–∞–≤–∏–ª–∞ –¥–ª—è –±–æ—Ç–∞:

1. **–ü–µ—Ä–µ–¥ –ª—é–±–æ–π —Ä–∞–±–æ—Ç–æ–π —Å —Ñ–∞–π–ª–∞–º–∏** ‚Äî –∑–∞–ø—É—Å—Ç–∏—Ç—å `start-cleanup.sh`
2. **–ü–µ—Ä–µ–¥ –∫–∞–∂–¥—ã–º —É–¥–∞–ª–µ–Ω–∏–µ–º** ‚Äî —Å–ø—Ä–æ—Å–∏—Ç—å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ
3. **–ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è** ‚Äî —Å–ø—Ä–æ—Å–∏—Ç—å "–í—Å—ë –≤ –ø–æ—Ä—è–¥–∫–µ?"
4. –ü—Ä–∏ "–¥–∞" ‚Üí `confirm-cleanup.sh`
5. –ü—Ä–∏ "–æ—Ç–∫–∞—Ç–∏" ‚Üí `rollback-cleanup.sh`

---

*–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ: 2026-02-05*
